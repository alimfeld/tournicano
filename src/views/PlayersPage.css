/* Filter section */
section.filter-section {
  display: flex;
  flex-wrap: wrap;
  gap: var(--pico-spacing);
  justify-content: center;
}

/* Grid container */
.players-grid {
  width: 100%;
}

/* Each row is a grid - default 3 columns */
.header-row,
.player-row {
  display: grid;
  gap: 0;
  align-items: center;
  border-bottom: var(--pico-border-width) solid var(--pico-table-border-color);
  grid-template-columns: 3rem minmax(10rem, 30rem) auto;
}

/* 4 columns when groups present */
.has-groups .header-row,
.has-groups .player-row {
  grid-template-columns: 3rem minmax(10rem, 30rem) minmax(3rem, 9rem) auto;
}

/* Cell padding */
.header-cell,
.player-cell {
  padding: calc(var(--pico-spacing) / 2) calc(var(--pico-spacing) / 2);
}

/* Header row */
.header-row {
  font-weight: bold;
  border-bottom-width: calc(var(--pico-border-width) * 3);
}

/* Player header - spans avatar + name columns by default */
.header-cell.player-header {
  grid-column: span 2;
}

/* When groups exist, span avatar + name + group */
.has-groups .header-cell.player-header {
  grid-column: span 3;
}

/* Avatar cell */
.avatar-cell img {
  width: var(--player-list-avatar-size);
  height: var(--player-list-avatar-size);
  border-radius: 50%;
  display: block;
}

/* Name cell - inline icon + text with ellipsis */
.name-cell {
  display: flex;
  align-items: center;
  gap: calc(var(--pico-spacing) / 2);
  min-width: 0;
}

.name-cell .participating-icon {
  flex-shrink: 0;
}

.name-cell .name-text {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  min-width: 0;
}

/* Active header */
.header-cell.active-header {
  text-align: right;
}

.header-cell.active-header input[type="checkbox"] {
  margin: 0;
}

/* Active cell (for player rows) */
.active-cell {
  text-align: right;
}

.active-cell input[type="checkbox"] {
  margin: 0;
}

/* Clickable rows */
.player-row {
  cursor: pointer;
}

.player-row:hover {
  background-color: var(--pico-table-row-stripped-background-color);
}

/* Mobile: smaller name column */
@media (max-width: 640px) {

  .header-row,
  .player-row {
    grid-template-columns: 3rem minmax(8rem, 12rem) auto;
  }

  .has-groups .header-row,
  .has-groups .player-row {
    grid-template-columns: 3rem minmax(8rem, 12rem) auto auto;
  }
}
